import{d as S,i as C,j as V,W as x,c as u,o as i,a,u as e,g as B,w as t,b as d,k as I,F as _,r as b,f as p,e as n,t as f,S as h,n as N}from"./app-DtRPc5aY.js";import{_ as j,u as F}from"./AppLayout.vue_vue_type_script_setup_true_lang-C26RQxEn.js";import{_ as T}from"./Pagination.vue_vue_type_script_setup_true_lang-DHMTzms_.js";import{_ as g}from"./index-DrwXI422.js";import{_ as z,a as K,b as v,c,d as A,e as m}from"./TableRow.vue_vue_type_script_setup_true_lang-CZ_hh3nz.js";import{_ as L,a as R,b as W,c as E,d as J}from"./SelectValue.vue_vue_type_script_setup_true_lang-n5WLvA2j.js";import{C as U,P as q,T as G}from"./trash-2-C0rDiQXe.js";import"./useForwardExpose-CYDG70qN.js";import"./RovingFocusGroup-D_K4PFxf.js";import"./floating-ui.vue-BW28m2DX.js";import"./createLucideIcon-7jfpra0Y.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-B7e0ls3E.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-EuBVxOzR.js";import"./check-CzhH15OK.js";const H={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},M={class:"flex flex-col gap-6"},O={class:"flex flex-col items-start justify-between gap-4 sm:flex-row sm:items-center"},Q={class:"flex w-full items-center gap-2 sm:w-auto"},X={key:0,class:"flex flex-col items-center justify-center rounded-lg border-2 border-dashed h-64 text-center"},Y={key:1,class:"overflow-hidden rounded-lg border"},Z={key:2,class:"flex justify-center"},ge=S({__name:"Index",props:{allPrograms:{},disbursements:{},filters:{}},setup(k){const o=C(k.filters.program??void 0),{confirmDelete:w}=F();V(o,l=>{x.get(route("admin.disbursements.index"),{program:l},{preserveState:!0,replace:!0,preserveScroll:!0})});const y=l=>{w(()=>{x.delete(route("admin.disbursements.destroy",l),{preserveScroll:!0})})},D=l=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(l),$=l=>new Date(l).toLocaleDateString("id-ID",{dateStyle:"long"}),P=[{title:"Dashboard",href:route("admin.dashboard")},{title:"Kelola Pencairan Dana",href:route("admin.disbursements.index")}];return(l,s)=>(i(),u(_,null,[a(e(B),{title:"Kelola Pencairan Dana"}),a(j,{breadcrumbs:P},{default:t(()=>[d("div",H,[d("div",M,[d("div",O,[s[2]||(s[2]=d("h1",{class:"text-2xl font-semibold"}," Kelola Pencairan Dana",-1)),d("div",Q,[a(e(L),{modelValue:o.value,"onUpdate:modelValue":s[0]||(s[0]=r=>o.value=r)},{default:t(()=>[a(e(R),{class:"w-full sm:w-[280px]"},{default:t(()=>[a(e(W),{placeholder:"Pilih program untuk dilihat..."})]),_:1}),a(e(E),null,{default:t(()=>[(i(!0),u(_,null,b(l.allPrograms,r=>(i(),p(e(J),{key:r.id,value:r.slug},{default:t(()=>[n(f(r.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),a(e(h),{href:o.value?l.route("admin.disbursements.create",{program:o.value}):"#",class:N({"pointer-events-none opacity-50":!o.value})},{default:t(()=>[a(e(g),{disabled:!o.value},{default:t(()=>[a(e(U),{class:"mr-2 h-4 w-4"}),s[1]||(s[1]=n(" Catat Pencairan "))]),_:1,__:[1]},8,["disabled"])]),_:1},8,["href","class"])])]),o.value?(i(),u("div",Y,[a(e(z),null,{default:t(()=>[a(e(K),null,{default:t(()=>[a(e(v),null,{default:t(()=>[a(e(c),null,{default:t(()=>s[4]||(s[4]=[n("Deskripsi Penggunaan ")])),_:1,__:[4]}),a(e(c),null,{default:t(()=>s[5]||(s[5]=[n("Jumlah ")])),_:1,__:[5]}),a(e(c),null,{default:t(()=>s[6]||(s[6]=[n("Tanggal Dicairkan ")])),_:1,__:[6]}),a(e(c),{class:"w-[120px] text-right"},{default:t(()=>s[7]||(s[7]=[n(" Aksi")])),_:1,__:[7]})]),_:1})]),_:1}),a(e(A),null,{default:t(()=>[!l.disbursements||l.disbursements.data.length===0?(i(),p(e(v),{key:0},{default:t(()=>[a(e(m),{colspan:"4",class:"h-24 text-center"},{default:t(()=>s[8]||(s[8]=[n(" Belum ada pencairan dana untuk program ini. ")])),_:1,__:[8]})]),_:1})):(i(!0),u(_,{key:1},b(l.disbursements.data,r=>(i(),p(e(v),{key:r.id},{default:t(()=>[a(e(m),{class:"font-medium"},{default:t(()=>[n(f(r.description),1)]),_:2},1024),a(e(m),{class:"font-semibold text-primary"},{default:t(()=>[n(f(D(r.amount)),1)]),_:2},1024),a(e(m),null,{default:t(()=>[n(f($(r.disbursed_at)),1)]),_:2},1024),a(e(m),{class:"text-right space-x-2"},{default:t(()=>[a(e(h),{href:l.route("admin.disbursements.edit",r.id)},{default:t(()=>[a(e(g),{size:"icon",variant:"outline"},{default:t(()=>[a(e(q),{class:"h-4 w-4"})]),_:1})]),_:2},1032,["href"]),a(e(g),{onClick:ae=>y(r.id),size:"icon",variant:"destructive"},{default:t(()=>[a(e(G),{class:"h-4 w-4"})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])):(i(),u("div",X,s[3]||(s[3]=[d("p",{class:"text-lg font-medium text-muted-foreground"}," Pilih Sebuah Program",-1),d("p",{class:"text-sm text-muted-foreground"}," Silakan pilih program dari dropdown di atas untuk melihat atau mencatat pencairan dana.",-1)]))),l.disbursements?(i(),u("div",Z,[a(T,{links:l.disbursements.links},null,8,["links"])])):I("",!0)])])]),_:1})],64))}});export{ge as default};
