import{d as N,x as F,p as K,i as R,c as p,o as m,b as o,a,w as l,u as e,e as n,S as J,t as T,F as q,r as z,f as G,h as H}from"./app-CNFHZk8v.js";import{_ as D}from"./index-D0Vt-HLO.js";import{_ as f}from"./Input.vue_vue_type_script_setup_true_lang-BRIpKEza.js";import{_ as u,a as _}from"./InputError.vue_vue_type_script_setup_true_lang-D4jraw7I.js";import{_ as C}from"./Textarea.vue_vue_type_script_setup_true_lang-BaNFSrmO.js";import{a as L,b as O,c as j,d as c,_ as A}from"./SelectValue.vue_vue_type_script_setup_true_lang-DyYigS3G.js";import{A as Q}from"./arrow-left-ekMYBuEY.js";import{I as W}from"./image-e9lL5aAF.js";const X={class:"flex items-center justify-between"},Y={class:"text-2xl font-semibold"},Z={key:0},ee={key:1},te={class:"text-sm text-muted-foreground"},ae={key:0},se={key:1},oe={class:"flex items-center gap-2"},le={class:"grid grid-cols-1 gap-6 lg:grid-cols-3"},re={class:"space-y-6 lg:col-span-2"},ne={class:"rounded-lg border p-6"},de={class:"grid gap-4"},ie={class:"space-y-6 lg:col-span-1"},me={class:"rounded-lg border p-6"},ue={class:"grid gap-4"},_e={key:0,class:"my-2"},pe=["src"],ge={key:1,class:"my-2 flex h-32 w-full items-center justify-center rounded-md border-2 border-dashed"},fe={class:"grid grid-cols-2 gap-4"},we=N({__name:"ProgramForm",props:{program:{},categories:{}},setup(E){var b,V,k,P,x,w,U,S,$,h,B;const d=E,g=!!d.program,s=F({_method:g?"PUT":"POST",name:((b=d.program)==null?void 0:b.name)??"",poster:null,target_amount:((V=d.program)==null?void 0:V.target_amount)??0,start_date:((P=(k=d.program)==null?void 0:k.start_date)==null?void 0:P.split("T")[0])??"",end_date:((w=(x=d.program)==null?void 0:x.end_date)==null?void 0:w.split("T")[0])??"",short_description:((U=d.program)==null?void 0:U.short_description)??"",content:((S=d.program)==null?void 0:S.content)??"",status:(($=d.program)==null?void 0:$.status)??"draft",donation_category_id:((h=d.program)==null?void 0:h.donation_category_id)??null}),y=K({get(){const i=s.donation_category_id;return i==null?void 0:String(i)},set(i){i==null||i===""?s.donation_category_id=null:s.donation_category_id=parseInt(i,10)}}),v=R(((B=d.program)==null?void 0:B.poster_url)??null),I=i=>{const t=i.target;if(t.files&&t.files[0]){const r=t.files[0];s.poster=r,v.value=URL.createObjectURL(r)}},M=()=>{g?s.post(route("admin.programs.update",d.program.slug)):s.post(route("admin.programs.store"))};return(i,t)=>(m(),p("form",{onSubmit:H(M,["prevent"]),class:"space-y-6"},[o("div",X,[o("div",null,[o("h1",Y,[g?(m(),p("span",Z,"Edit Program Donasi")):(m(),p("span",ee,"Buat Program Donasi Baru"))]),o("p",te,[g?(m(),p("span",ae,"Perbarui detail program di bawah ini.")):(m(),p("span",se,"Isi detail di bawah untuk membuat program donasi baru."))])]),o("div",oe,[a(e(J),{href:i.route("admin.programs.index")},{default:l(()=>[a(e(D),{type:"button",variant:"outline"},{default:l(()=>[a(e(Q),{class:"mr-2 h-4 w-4"}),t[8]||(t[8]=n(" Batal "))]),_:1,__:[8]})]),_:1},8,["href"]),a(e(D),{type:"submit",disabled:e(s).processing},{default:l(()=>[n(T(g?"Update Program":"Simpan Program"),1)]),_:1},8,["disabled"])])]),o("div",le,[o("div",re,[o("div",ne,[o("div",de,[o("div",null,[a(e(u),{for:"category",class:"mb-2"},{default:l(()=>t[9]||(t[9]=[n("Kategori (Opsional)")])),_:1,__:[9]}),a(e(A),{modelValue:y.value,"onUpdate:modelValue":t[0]||(t[0]=r=>y.value=r)},{default:l(()=>[a(e(L),{id:"category"},{default:l(()=>[a(e(O),{placeholder:"Pilih kategori..."})]),_:1}),a(e(j),null,{default:l(()=>[a(e(c),{value:"null"},{default:l(()=>t[10]||(t[10]=[n("-- Tanpa Kategori -- ")])),_:1,__:[10]}),(m(!0),p(q,null,z(d.categories,r=>(m(),G(e(c),{key:r.id,value:String(r.id)},{default:l(()=>[n(T(r.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),a(_,{message:e(s).errors.donation_category_id,class:"mt-2"},null,8,["message"])]),o("div",null,[a(e(u),{for:"name",class:"mb-2"},{default:l(()=>t[11]||(t[11]=[n("Nama Program")])),_:1,__:[11]}),a(e(f),{id:"name",modelValue:e(s).name,"onUpdate:modelValue":t[1]||(t[1]=r=>e(s).name=r),type:"text",placeholder:"Contoh: Bantuan Bencana Alam"},null,8,["modelValue"]),a(_,{message:e(s).errors.name,class:"mt-2"},null,8,["message"])]),o("div",null,[a(e(u),{for:"short_description",class:"mb-2"},{default:l(()=>t[12]||(t[12]=[n("Deskripsi Singkat")])),_:1,__:[12]}),a(e(C),{id:"short_description",modelValue:e(s).short_description,"onUpdate:modelValue":t[2]||(t[2]=r=>e(s).short_description=r),placeholder:"Deskripsi singkat yang akan tampil di kartu program..."},null,8,["modelValue"]),a(_,{message:e(s).errors.short_description,class:"mt-2"},null,8,["message"])]),o("div",null,[a(e(u),{for:"content",class:"mb-2"},{default:l(()=>t[13]||(t[13]=[n("Konten / Cerita Lengkap")])),_:1,__:[13]}),a(e(C),{id:"content",modelValue:e(s).content,"onUpdate:modelValue":t[3]||(t[3]=r=>e(s).content=r),placeholder:"Jelaskan secara detail tentang program donasi ini...",class:"min-h-[200px]"},null,8,["modelValue"]),a(_,{message:e(s).errors.content,class:"mt-2"},null,8,["message"])])])])]),o("div",ie,[o("div",me,[o("div",ue,[o("div",null,[a(e(u),null,{default:l(()=>t[14]||(t[14]=[n("Poster Program")])),_:1,__:[14]}),v.value?(m(),p("div",_e,[o("img",{src:v.value,alt:"Preview Poster",class:"w-full rounded-md object-cover"},null,8,pe)])):(m(),p("div",ge,[a(e(W),{class:"h-8 w-8 text-gray-400"})])),a(e(f),{id:"poster",type:"file",onChange:I,accept:"image/*"}),a(_,{message:e(s).errors.poster,class:"mt-2"},null,8,["message"])]),o("div",null,[a(e(u),{for:"status",class:"mb-2"},{default:l(()=>t[15]||(t[15]=[n("Status")])),_:1,__:[15]}),a(e(A),{modelValue:e(s).status,"onUpdate:modelValue":t[4]||(t[4]=r=>e(s).status=r)},{default:l(()=>[a(e(L),null,{default:l(()=>[a(e(O),{placeholder:"Pilih status"})]),_:1}),a(e(j),null,{default:l(()=>[a(e(c),{value:"draft"},{default:l(()=>t[16]||(t[16]=[n(" Draf ")])),_:1,__:[16]}),a(e(c),{value:"active"},{default:l(()=>t[17]||(t[17]=[n(" Aktif ")])),_:1,__:[17]}),a(e(c),{value:"ended"},{default:l(()=>t[18]||(t[18]=[n(" Ended ")])),_:1,__:[18]})]),_:1})]),_:1},8,["modelValue"]),a(_,{message:e(s).errors.status,class:"mt-2"},null,8,["message"])]),o("div",null,[a(e(u),{for:"target_amount",class:"mb-2"},{default:l(()=>t[19]||(t[19]=[n("Target Donasi (Rp)")])),_:1,__:[19]}),a(e(f),{id:"target_amount",modelValue:e(s).target_amount,"onUpdate:modelValue":t[5]||(t[5]=r=>e(s).target_amount=r),type:"number",placeholder:"0"},null,8,["modelValue"]),a(_,{message:e(s).errors.target_amount,class:"mt-2"},null,8,["message"])]),o("div",fe,[o("div",null,[a(e(u),{for:"start_date",class:"mb-2"},{default:l(()=>t[20]||(t[20]=[n("Tanggal Mulai (Opsional)")])),_:1,__:[20]}),a(e(f),{id:"start_date",modelValue:e(s).start_date,"onUpdate:modelValue":t[6]||(t[6]=r=>e(s).start_date=r),type:"date"},null,8,["modelValue"]),a(_,{message:e(s).errors.start_date,class:"mt-2"},null,8,["message"])]),o("div",null,[a(e(u),{for:"end_date",class:"mb-2"},{default:l(()=>t[21]||(t[21]=[n("Tanggal Selesai (Opsional)")])),_:1,__:[21]}),a(e(f),{id:"end_date",modelValue:e(s).end_date,"onUpdate:modelValue":t[7]||(t[7]=r=>e(s).end_date=r),type:"date"},null,8,["modelValue"]),a(_,{message:e(s).errors.end_date,class:"mt-2"},null,8,["message"])])])])])])])],32))}});export{we as _};
