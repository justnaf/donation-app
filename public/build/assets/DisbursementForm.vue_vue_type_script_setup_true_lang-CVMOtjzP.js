import{d as v,x as S,c as l,o as u,b as r,F as p,e as n,t as h,a as t,w as i,u as e,S as P,h as C}from"./app-DtRPc5aY.js";import{_ as y}from"./index-DrwXI422.js";import{_ as k}from"./Input.vue_vue_type_script_setup_true_lang-DUrI2L1u.js";import{_ as f,a as _}from"./InputError.vue_vue_type_script_setup_true_lang-6YNpOapv.js";import{_ as $}from"./Textarea.vue_vue_type_script_setup_true_lang-oQ8_XXhh.js";import{A as B}from"./arrow-left-NUK1s_we.js";const F={class:"flex items-center justify-between mb-6"},T={class:"text-2xl font-semibold"},U={class:"text-sm text-muted-foreground"},E={class:"space-y-4"},I={class:"mt-6 flex justify-end gap-2"},K=v({__name:"DisbursementForm",props:{program:{},disbursement:{}},setup(V){var c,g,x;const o=V,b=!!o.disbursement,w=d=>d?new Date(d).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],a=S({amount:((c=o.disbursement)==null?void 0:c.amount)??0,description:((g=o.disbursement)==null?void 0:g.description)??"",disbursed_at:w(((x=o.disbursement)==null?void 0:x.disbursed_at)??null)}),D=()=>{b?a.put(route("admin.disbursements.update",o.disbursement.id)):a.post(route("admin.disbursements.store",o.program.slug))};return(d,s)=>(u(),l("form",{onSubmit:C(D,["prevent"]),class:"max-w-3xl mx-auto rounded-lg border p-6 bg-white dark:bg-gray-800"},[r("div",F,[r("div",null,[r("h1",T,[b?(u(),l(p,{key:0},[n("Edit Pencairan Dana")],64)):(u(),l(p,{key:1},[n("Catat Pencairan Dana Baru")],64))]),r("p",U," Untuk program: "+h(d.program.name),1)])]),r("div",E,[r("div",null,[t(e(f),{for:"amount",class:"mb-2"},{default:i(()=>s[3]||(s[3]=[n("Jumlah Dicairkan (Rp)")])),_:1,__:[3]}),t(e(k),{id:"amount",modelValue:e(a).amount,"onUpdate:modelValue":s[0]||(s[0]=m=>e(a).amount=m),type:"number",placeholder:"Contoh: 5000000"},null,8,["modelValue"]),t(_,{message:e(a).errors.amount,class:"mt-2"},null,8,["message"])]),r("div",null,[t(e(f),{for:"description",class:"mb-2"},{default:i(()=>s[4]||(s[4]=[n("Deskripsi Penggunaan Dana")])),_:1,__:[4]}),t(e($),{id:"description",modelValue:e(a).description,"onUpdate:modelValue":s[1]||(s[1]=m=>e(a).description=m),placeholder:"Contoh: Pembelian 100 paket sembako tahap pertama"},null,8,["modelValue"]),t(_,{message:e(a).errors.description,class:"mt-2"},null,8,["message"])]),r("div",null,[t(e(f),{for:"disbursed_at",class:"mb-2"},{default:i(()=>s[5]||(s[5]=[n("Tanggal Pencairan")])),_:1,__:[5]}),t(e(k),{id:"disbursed_at",modelValue:e(a).disbursed_at,"onUpdate:modelValue":s[2]||(s[2]=m=>e(a).disbursed_at=m),type:"date"},null,8,["modelValue"]),t(_,{message:e(a).errors.disbursed_at,class:"mt-2"},null,8,["message"])])]),r("div",I,[t(e(P),{href:d.route("admin.disbursements.index")},{default:i(()=>[t(e(y),{type:"button",variant:"outline"},{default:i(()=>[t(e(B),{class:"mr-2 h-4 w-4"}),s[6]||(s[6]=n(" Kembali "))]),_:1,__:[6]})]),_:1},8,["href"]),t(e(y),{type:"submit",disabled:e(a).processing},{default:i(()=>[b?(u(),l(p,{key:0},[n("Simpan Perubahan")],64)):(u(),l(p,{key:1},[n("Catat Pencairan")],64))]),_:1},8,["disabled"])])],32))}});export{K as _};
