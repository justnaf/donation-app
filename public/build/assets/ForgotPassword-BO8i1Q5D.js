import{d as h,x as $,i as c,p as C,j as _,a2 as S,f,o as i,w as m,a as n,c as v,k as w,b as r,u as a,g as V,t as g,h as I,e as p}from"./app-CvuOQQDY.js";import{_ as E,a as B}from"./InputError.vue_vue_type_script_setup_true_lang-BzHhkPW8.js";import{_ as N}from"./TextLink.vue_vue_type_script_setup_true_lang-C6yk3x8b.js";import{_ as T}from"./index-Dl5WpriD.js";import{_ as F}from"./Input.vue_vue_type_script_setup_true_lang-CdMbnkSJ.js";import{_ as j}from"./AuthLayout.vue_vue_type_script_setup_true_lang-B6wJ6FVY.js";import{L as A}from"./loader-circle-Bq3EXGtJ.js";import"./useForwardExpose-TbbJJfpD.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BZUKrIWT.js";import"./createLucideIcon-M3bWeoSx.js";const L={key:0,class:"mb-4 text-center text-sm font-medium text-green-600"},U={class:"space-y-6"},q={class:"grid gap-2"},D={key:0,class:"mt-2 text-sm text-destructive"},O={class:"my-6 flex items-center justify-start"},P={class:"space-x-1 text-center text-sm text-muted-foreground"},M=h({__name:"ForgotPassword",props:{status:{}},setup(z){const o=$({email:""}),s=c(0),l=c(null),u=c(!1),x=C(()=>{if(s.value<=0)return"00:00";const t=Math.floor(s.value/60),e=s.value%60;return`${String(t).padStart(2,"0")}:${String(e).padStart(2,"0")}`}),y=t=>{const e=t.match(/(\d+)/);if(e&&e[1]){const d=parseInt(e[1],10);s.value=d,u.value=!0,l.value&&clearInterval(l.value),l.value=window.setInterval(()=>{s.value-=1},1e3),_(s,b=>{b<=0&&(l.value&&clearInterval(l.value),o.clearErrors("email"),u.value=!1)})}};_(()=>o.errors.email,t=>{u.value||t&&(t.includes("Terlalu banyak")||t.includes("Too many requests")||t.includes("Too many login attempts"))&&y(t)}),S(()=>{l.value&&clearInterval(l.value)});const k=()=>{o.post(route("password.email"))};return(t,e)=>(i(),f(j,{title:"Forgot password",description:"Enter your email to receive a password reset link"},{default:m(()=>[n(a(V),{title:"Forgot password"}),t.status&&s.value<=0?(i(),v("div",L,g(t.status),1)):w("",!0),r("div",U,[r("form",{onSubmit:I(k,["prevent"])},[r("div",q,[n(a(E),{for:"email"},{default:m(()=>e[1]||(e[1]=[p("Email address")])),_:1,__:[1]}),n(a(F),{id:"email",type:"email",name:"email",autocomplete:"off",modelValue:a(o).email,"onUpdate:modelValue":e[0]||(e[0]=d=>a(o).email=d),autofocus:"",placeholder:"email@example.com"},null,8,["modelValue"]),s.value>0?(i(),v("div",D," Anda terlalu sering mencoba. Silakan coba lagi dalam "+g(x.value),1)):(i(),f(B,{key:1,message:a(o).errors.email},null,8,["message"]))]),r("div",O,[n(a(T),{class:"w-full",disabled:a(o).processing||s.value>0},{default:m(()=>[a(o).processing?(i(),f(a(A),{key:0,class:"h-4 w-4 animate-spin"})):w("",!0),e[2]||(e[2]=p(" Email password reset link "))]),_:1,__:[2]},8,["disabled"])])],32),r("div",P,[e[4]||(e[4]=r("span",null,"Or, return to",-1)),n(N,{href:t.route("login")},{default:m(()=>e[3]||(e[3]=[p("log in")])),_:1,__:[3]},8,["href"])])])]),_:1}))}});export{M as default};
