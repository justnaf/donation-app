import{d as M,i as j,j as B,W as x,c as f,o as i,a as e,u as t,g as L,w as a,b as n,m as N,v as F,S as h,e as o,f as v,F as w,r as V,t as c,n as A}from"./app-DtjgDraY.js";import{_ as K,u as O}from"./AppLayout.vue_vue_type_script_setup_true_lang-BKLYE0UX.js";import{_ as m}from"./index-D7sa5Qhh.js";import{_ as R,a as W,b as k,c as u,d as q,e as d}from"./TableRow.vue_vue_type_script_setup_true_lang-DXYMxEYF.js";import{_ as E}from"./Pagination.vue_vue_type_script_setup_true_lang-D7NkaCVA.js";import{C as U,P as G,T as H}from"./trash-2-B-cf98yY.js";import{I as J}from"./image-DeyXRKPn.js";import{c as Q}from"./createLucideIcon-DKYkI839.js";import"./useForwardExpose-BwU0gFtr.js";import"./RovingFocusGroup--AMRDcuq.js";import"./floating-ui.vue-CBHrn8lA.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-BFU02pfB.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DR27HxNZ.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=Q("ListIcon",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]),Y={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},Z={class:"flex flex-col gap-6"},ee={class:"flex flex-col items-start justify-between gap-4 sm:flex-row sm:items-center"},te={class:"flex w-full items-center gap-2 sm:w-auto"},ae={class:"overflow-hidden rounded-lg border"},se=["src"],re={key:1,class:"flex h-12 w-20 items-center justify-center rounded-md bg-gray-100 dark:bg-gray-700"},le=["onClick"],ne={class:"flex flex-col"},oe={class:"font-semibold text-green-600"},de={class:"text-xs text-gray-500"},ve=M({__name:"Index",props:{programs:{},filters:{}},setup(D){const I=D,{confirmDelete:T}=O(),_=j(I.filters.search);let y;B(_,r=>{clearTimeout(y),y=setTimeout(()=>{x.get(route("admin.programs.index"),{search:r},{preserveState:!0,replace:!0})},300)});const g=["draft","active","ended"],C=r=>{const l=(g.indexOf(r.status)+1)%g.length,p=g[l];x.patch(route("admin.programs.update.status",r.slug),{status:p},{preserveScroll:!0})},P=r=>{T(()=>{x.delete(route("admin.programs.destroy",r.slug),{preserveScroll:!0})})},$=r=>({draft:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",active:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",ended:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"})[r],b=r=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(r),S=r=>r?new Date(r).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):"Tanpa Batas",z=[{title:"Kelola Program Donasi",href:route("admin.programs.index")}];return(r,s)=>(i(),f(w,null,[e(t(L),{title:"Kelola Program Donasi"}),e(K,{breadcrumbs:z},{default:a(()=>[n("div",Y,[n("div",Z,[n("div",ee,[s[2]||(s[2]=n("h2",{class:"text-2xl font-bold text-gray-800 dark:text-gray-200"}," Daftar Program Donasi",-1)),n("div",te,[N(n("input",{"onUpdate:modelValue":s[0]||(s[0]=l=>_.value=l),type:"text",placeholder:"Cari program...",class:"block w-full rounded-md border-gray-300 bg-white p-2 text-gray-900 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:w-64 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-300 dark:focus:border-indigo-600"},null,512),[[F,_.value]]),e(t(h),{href:r.route("admin.programs.create")},{default:a(()=>[e(t(m),null,{default:a(()=>[e(t(U),{class:"mr-2 h-4 w-4"}),s[1]||(s[1]=o(" Tambah Program "))]),_:1,__:[1]})]),_:1},8,["href"])])]),n("div",ae,[e(t(R),null,{default:a(()=>[e(t(W),null,{default:a(()=>[e(t(k),null,{default:a(()=>[e(t(u),{class:"w-[100px]"},{default:a(()=>s[3]||(s[3]=[o("Poster ")])),_:1,__:[3]}),e(t(u),null,{default:a(()=>s[4]||(s[4]=[o("Nama Program ")])),_:1,__:[4]}),e(t(u),null,{default:a(()=>s[5]||(s[5]=[o("Status ")])),_:1,__:[5]}),e(t(u),null,{default:a(()=>s[6]||(s[6]=[o("Target & Terkumpul")])),_:1,__:[6]}),e(t(u),null,{default:a(()=>s[7]||(s[7]=[o("Periode ")])),_:1,__:[7]}),e(t(u),{class:"w-[120px] text-right"},{default:a(()=>s[8]||(s[8]=[o(" Aksi")])),_:1,__:[8]})]),_:1})]),_:1}),e(t(q),null,{default:a(()=>[r.programs.data.length>0?(i(!0),f(w,{key:0},V(r.programs.data,l=>(i(),v(t(k),{key:l.id},{default:a(()=>[e(t(d),null,{default:a(()=>[l.poster_url&&!l.poster_url.includes("placeholder.com")?(i(),f("img",{key:0,src:l.poster_url,class:"h-12 w-20 rounded-md object-cover",alt:"Poster"},null,8,se)):(i(),f("div",re,[e(t(J),{class:"h-6 w-6 text-gray-400"})]))]),_:2},1024),e(t(d),{class:"font-medium"},{default:a(()=>[o(c(l.name),1)]),_:2},1024),e(t(d),null,{default:a(()=>[n("button",{onClick:p=>C(l),type:"button",class:A(["rounded-full px-2.5 py-1 text-xs font-semibold capitalize transition-transform duration-150 hover:scale-105 active:scale-100",$(l.status)])},c(l.status),11,le)]),_:2},1024),e(t(d),null,{default:a(()=>[n("div",ne,[n("span",oe,c(b(l.collected_amount)),1),n("span",de,"dari "+c(b(l.target_amount)),1)])]),_:2},1024),e(t(d),{class:"whitespace-nowrap"},{default:a(()=>[o(c(S(l.start_date)),1)]),_:2},1024),e(t(d),{class:"space-x-2 text-right flex"},{default:a(()=>[e(t(h),{href:r.route("admin.programs.donations.index",{program:l.slug}),title:"Lihat Daftar Donasi"},{default:a(()=>[e(t(m),{variant:"outline",size:"icon"},{default:a(()=>[e(t(X),{class:"h-4 w-4"})]),_:1})]),_:2},1032,["href"]),e(t(h),{href:r.route("admin.programs.edit",l.slug)},{default:a(()=>[e(t(m),{variant:"outline",size:"icon"},{default:a(()=>[e(t(G),{class:"h-4 w-4"})]),_:1})]),_:2},1032,["href"]),e(t(m),{onClick:p=>P(l),variant:"destructive",size:"icon"},{default:a(()=>[e(t(H),{class:"h-4 w-4"})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128)):(i(),v(t(k),{key:1},{default:a(()=>[e(t(d),{colspan:"6",class:"h-24 text-center"},{default:a(()=>s[9]||(s[9]=[o(" Tidak ada data program ditemukan. ")])),_:1,__:[9]})]),_:1}))]),_:1})]),_:1})]),e(E,{links:r.programs.links},null,8,["links"])])])]),_:1})],64))}});export{ve as default};
