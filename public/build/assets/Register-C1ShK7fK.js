import{d as x,x as b,i as y,j as V,J as h,f as g,o as p,w as l,a as t,b as o,u as a,g as C,h as U,c as _,e as n,k}from"./app-CwrJ4MGd.js";import{_ as d,a as m}from"./InputError.vue_vue_type_script_setup_true_lang-DAWxQtLq.js";import{_ as S}from"./TextLink.vue_vue_type_script_setup_true_lang-HP2iSlFn.js";import{_ as N}from"./index-9tZLbIjh.js";import{_ as u}from"./Input.vue_vue_type_script_setup_true_lang-BI0NODC7.js";import{_ as q}from"./AuthLayout.vue_vue_type_script_setup_true_lang-zyzJ8EH9.js";import{U as $}from"./user-COy5QSV2.js";import{L as j}from"./loader-circle-Doo4z9t0.js";import"./useForwardExpose-CHlbkD8y.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-qE6E7txU.js";import"./createLucideIcon-CRuSSJ2z.js";const F={class:"flex flex-col items-center gap-2"},L={class:"relative h-24 w-24 rounded-full"},B=["src"],J={key:1,class:"flex h-full w-full items-center justify-center rounded-full bg-neutral-100 dark:bg-neutral-800"},P={class:"grid gap-6"},R={class:"grid gap-2"},A={class:"grid gap-2"},E={class:"grid gap-2"},I={class:"grid gap-2"},O={class:"grid gap-2"},D={class:"text-center text-sm text-muted-foreground"},c="registrationFormCache",ae=x({__name:"Register",setup(M){const s=b({name:"",username:"",email:"",password:"",password_confirmation:"",avatar:null}),f=y(null);V(s,i=>{const e={...i};"avatar"in e&&delete e.avatar,localStorage.setItem(c,JSON.stringify(e))},{deep:!0}),h(()=>{const i=localStorage.getItem(c);if(i){const e=JSON.parse(i);s.defaults(e),s.reset()}});function w(i){const e=i.target;if(e.files&&e.files.length>0){const r=e.files[0];s.avatar=r,f.value=URL.createObjectURL(r)}}const v=()=>{s.post(route("register"),{onFinish:()=>s.reset("password","password_confirmation"),onSuccess:()=>{localStorage.removeItem(c)}})};return(i,e)=>(p(),g(q,{title:"Create an account",description:"Enter your details below to create your account"},{default:l(()=>[t(a(C),{title:"Register"}),o("form",{onSubmit:U(v,["prevent"]),class:"flex flex-col gap-6"},[o("div",F,[t(a(d),{for:"avatar-upload",class:"cursor-pointer"},{default:l(()=>[o("div",L,[f.value?(p(),_("img",{key:0,src:f.value,alt:"Avatar Preview",class:"h-full w-full rounded-full object-cover"},null,8,B)):(p(),_("div",J,[t(a($),{class:"h-12 w-12 text-neutral-400"})])),e[5]||(e[5]=o("div",{class:"absolute inset-0 flex items-center justify-center rounded-full bg-black/40 opacity-0 transition-opacity hover:opacity-100"},[o("span",{class:"text-xs font-semibold text-white"},"Change")],-1))])]),_:1}),e[6]||(e[6]=o("p",{class:"text-xs"},[o("span",{class:"text-red-500"}," *"),n("Jangan lupa upload foto avatar")],-1)),o("input",{id:"avatar-upload",type:"file",class:"hidden",onChange:w,accept:"image/*"},null,32),t(m,{message:a(s).errors.avatar},null,8,["message"])]),o("div",P,[o("div",R,[t(a(d),{for:"name"},{default:l(()=>e[7]||(e[7]=[n("Name")])),_:1,__:[7]}),t(a(u),{id:"name",type:"text",required:"",autofocus:"",tabindex:1,autocomplete:"name",modelValue:a(s).name,"onUpdate:modelValue":e[0]||(e[0]=r=>a(s).name=r),placeholder:"Full name"},null,8,["modelValue"]),t(m,{message:a(s).errors.name},null,8,["message"])]),o("div",A,[t(a(d),{for:"username"},{default:l(()=>e[8]||(e[8]=[n("Username")])),_:1,__:[8]}),t(a(u),{id:"username",type:"text",required:"",tabindex:2,autocomplete:"username",modelValue:a(s).username,"onUpdate:modelValue":e[1]||(e[1]=r=>a(s).username=r),placeholder:"your_unique_username"},null,8,["modelValue"]),t(m,{message:a(s).errors.username},null,8,["message"])]),o("div",E,[t(a(d),{for:"email"},{default:l(()=>e[9]||(e[9]=[n("Email address")])),_:1,__:[9]}),t(a(u),{id:"email",type:"email",required:"",tabindex:3,autocomplete:"email",modelValue:a(s).email,"onUpdate:modelValue":e[2]||(e[2]=r=>a(s).email=r),placeholder:"email@example.com"},null,8,["modelValue"]),t(m,{message:a(s).errors.email},null,8,["message"])]),o("div",I,[t(a(d),{for:"password"},{default:l(()=>e[10]||(e[10]=[n("Password")])),_:1,__:[10]}),t(a(u),{id:"password",type:"password",required:"",tabindex:4,autocomplete:"new-password",modelValue:a(s).password,"onUpdate:modelValue":e[3]||(e[3]=r=>a(s).password=r),placeholder:"Password"},null,8,["modelValue"]),t(m,{message:a(s).errors.password},null,8,["message"])]),o("div",O,[t(a(d),{for:"password_confirmation"},{default:l(()=>e[11]||(e[11]=[n("Confirm password")])),_:1,__:[11]}),t(a(u),{id:"password_confirmation",type:"password",required:"",tabindex:5,autocomplete:"new-password",modelValue:a(s).password_confirmation,"onUpdate:modelValue":e[4]||(e[4]=r=>a(s).password_confirmation=r),placeholder:"Confirm password"},null,8,["modelValue"]),t(m,{message:a(s).errors.password_confirmation},null,8,["message"])]),t(a(N),{type:"submit",class:"mt-2 w-full bg-[#F08519] text-white hover:bg-[#F08519]/90",tabindex:6,disabled:a(s).processing},{default:l(()=>[a(s).processing?(p(),g(a(j),{key:0,class:"h-4 w-4 animate-spin"})):k("",!0),e[12]||(e[12]=n(" Create account "))]),_:1,__:[12]},8,["disabled"])]),o("div",D,[e[14]||(e[14]=n(" Already have an account? ")),t(S,{href:i.route("login"),class:"underline underline-offset-4",tabindex:7},{default:l(()=>e[13]||(e[13]=[n("Log in")])),_:1,__:[13]},8,["href"])])],32)]),_:1}))}});export{ae as default};
