import{d as S,i as C,j as D,W as f,c as u,o,a,u as e,g as K,w as t,b as d,k as T,F as _,r as x,f as c,e as n,t as p,S as h,n as V}from"./app-BWy_kanW.js";import{_ as B,u as j}from"./AppLayout.vue_vue_type_script_setup_true_lang-B7IkU6N6.js";import{_ as N}from"./Pagination.vue_vue_type_script_setup_true_lang-BZjpyGTf.js";import{_ as b}from"./index-D86al50y.js";import{_ as z,a as A,b as g,c as v,d as F,e as m}from"./TableRow.vue_vue_type_script_setup_true_lang-DROsysvI.js";import{_ as I,a as L,b as W,c as E,d as J}from"./SelectValue.vue_vue_type_script_setup_true_lang-BYfhfZeN.js";import{C as U,P as q,T as G}from"./trash-2-Cb13yZWS.js";import"./useForwardExpose-Dl5OYQnR.js";import"./RovingFocusGroup-BCRVu5zl.js";import"./floating-ui.vue-BY41yw23.js";import"./createLucideIcon-DSh25luv.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-QrFr4iqs.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DmVwq2Rc.js";import"./check-CndgZnEJ.js";const H={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},M={class:"flex flex-col gap-6"},O={class:"flex flex-col items-start justify-between gap-4 sm:flex-row sm:items-center"},Q={class:"flex w-full items-center gap-2 sm:w-auto"},R={key:0,class:"flex flex-col items-center justify-center rounded-lg border-2 border-dashed h-64 text-center"},X={key:1,class:"overflow-hidden rounded-lg border"},Y={key:2,class:"flex justify-center"},pe=S({__name:"Index",props:{allPrograms:{},updates:{},filters:{}},setup(k){const{confirmDelete:w}=j(),i=C(k.filters.program??void 0);D(i,l=>{if(!l){f.get(route("admin.news.index"));return}f.get(route("admin.news.index"),{program:l},{preserveState:!0,replace:!0,preserveScroll:!0})});const $=l=>{w(()=>{f.delete(route("admin.news.destroy",l),{preserveScroll:!0})})},y=l=>new Date(l).toLocaleDateString("id-ID",{dateStyle:"long"}),P=[{title:"Dashboard",href:route("admin.dashboard")},{title:"Kelola Kabar Terbaru",href:route("admin.news.index")}];return(l,s)=>(o(),u(_,null,[a(e(K),{title:"Kelola Kabar Terbaru"}),a(B,{breadcrumbs:P},{default:t(()=>[d("div",H,[d("div",M,[d("div",O,[s[2]||(s[2]=d("h1",{class:"text-2xl font-semibold"}," Kelola Kabar Terbaru",-1)),d("div",Q,[a(e(I),{modelValue:i.value,"onUpdate:modelValue":s[0]||(s[0]=r=>i.value=r)},{default:t(()=>[a(e(L),{class:"w-full sm:w-[280px]"},{default:t(()=>[a(e(W),{placeholder:"Pilih program untuk dilihat..."})]),_:1}),a(e(E),null,{default:t(()=>[(o(!0),u(_,null,x(l.allPrograms,r=>(o(),c(e(J),{key:r.id,value:r.slug},{default:t(()=>[n(p(r.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),a(e(h),{href:i.value?l.route("admin.news.create",{program:i.value}):"#",class:V({"pointer-events-none opacity-50":!i.value})},{default:t(()=>[a(e(b),{disabled:!i.value},{default:t(()=>[a(e(U),{class:"mr-2 h-4 w-4"}),s[1]||(s[1]=n(" Tambah Kabar "))]),_:1,__:[1]},8,["disabled"])]),_:1},8,["href","class"])])]),i.value?(o(),u("div",X,[a(e(z),null,{default:t(()=>[a(e(A),null,{default:t(()=>[a(e(g),null,{default:t(()=>[a(e(v),null,{default:t(()=>s[4]||(s[4]=[n("Judul Kabar ")])),_:1,__:[4]}),a(e(v),null,{default:t(()=>s[5]||(s[5]=[n("Tanggal Publikasi ")])),_:1,__:[5]}),a(e(v),{class:"w-[120px] text-right"},{default:t(()=>s[6]||(s[6]=[n(" Aksi")])),_:1,__:[6]})]),_:1})]),_:1}),a(e(F),null,{default:t(()=>[!l.updates||l.updates.data.length===0?(o(),c(e(g),{key:0},{default:t(()=>[a(e(m),{colspan:"3",class:"h-24 text-center"},{default:t(()=>s[7]||(s[7]=[n(" Belum ada kabar terbaru untuk program ini. ")])),_:1,__:[7]})]),_:1})):(o(!0),u(_,{key:1},x(l.updates.data,r=>(o(),c(e(g),{key:r.id},{default:t(()=>[a(e(m),{class:"font-medium"},{default:t(()=>[n(p(r.title),1)]),_:2},1024),a(e(m),null,{default:t(()=>[n(p(y(r.created_at)),1)]),_:2},1024),a(e(m),{class:"text-right space-x-2"},{default:t(()=>[a(e(h),{href:l.route("admin.news.edit",r.id)},{default:t(()=>[a(e(b),{size:"icon",variant:"outline"},{default:t(()=>[a(e(q),{class:"h-4 w-4"})]),_:1})]),_:2},1032,["href"]),a(e(b),{onClick:ee=>$(r.id),size:"icon",variant:"destructive"},{default:t(()=>[a(e(G),{class:"h-4 w-4"})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])):(o(),u("div",R,s[3]||(s[3]=[d("p",{class:"text-lg font-medium text-muted-foreground"}," Pilih Sebuah Program",-1),d("p",{class:"text-sm text-muted-foreground"}," Silakan pilih program dari dropdown di atas untuk melihat atau menambah kabar terbaru.",-1)]))),l.updates?(o(),u("div",Y,[a(N,{links:l.updates.links},null,8,["links"])])):T("",!0)])])]),_:1})],64))}});export{pe as default};
